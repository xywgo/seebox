version: "3"

services:
  portainer:
    image: portainer/portainer
    container_name: portainer
    restart: always
    ports:
      - "9000:9000"
      - "8090:8000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ./config/portainer/data:/data
  qbittorrent:
    image: ghcr.io/linuxserver/qbittorrent
    container_name: qbittorrent
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - UMASK_SET=022
      - WEBUI_PORT=8080
    volumes:
      - ./config/qbittorrent:/config
      - /home/xywgo/downloads:/downloads
    ports:
      - 7000:7000
      - 7000:7000/udp
      - 8080:8080
    restart: unless-stopped
  flexget:
    image: xywgo/flexget
    container_name: flexget
    restart: always
    environment: 
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - WEBUI_PASSWD=Mm451048163
    ports: 
      - "8600:8600"
    volumes: 
      - ~/downloads/torrents:/torrents
      - ./config/flexget:/config
  filebrowser:
    image: filebrowser/filebrowser
    container_name: filebrowser
    ports:
      - "8000:80"
    volumes:
      - /home/xywgo/downloads:/srv
    environment:
      - PUID=1000
      - PGID=1000
    restart: unless-stopped
  aria2:
    image: p3terx/aria2-pro
    container_name: aria2
    volumes: 
      - ./config/aria2:/config
      - /home/xywgo/downloads:/downloads
    environment: 
      - PUID=1000
      - PGID=1000
      - RPC_SECRET=xywgo
      - TZ=Asia/Shanghai
      - TRACKERS=no
      - DISK_CACHE=64M
    ports:
      - "6800:6800"
      - "6888:6888"
      - "6888:6888/udp"
  plex:
    image: ghcr.io/linuxserver/plex
    network_mode: host
    container_name: plex
    volumes:
      - /home/xywgo/downloads:/media:rw # The media folder
      - /home/xywgo/downloads/transcode:/transcode # Transcoder temporary directory
      - ./config/plex:/config # Configurations
    environment:
      - PUID=1000
      - PGID=1000
      - PLEX_CLAIM=claim-46KzwRxxaixzsx_e_YX9 # Replace this TOKEN!!! acess https://www.plex.tv/claim/ to get it
      - UMASK_SET=022 #optional
    restart: unless-stopped
    hostname: "BuyVM" # change the name to whatever you like
  resilio-sync:
    image: ghcr.io/linuxserver/resilio-syncc
    container_name: resilio-sync
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - UMASK_SET=022
    volumes:
      - ./config/resilio:/config
      - /home/xywgo/downloads:/downloads
      - /home/xywgo/downloads:/sync
    ports:
      - 8886:8888
      - 55555:55555
    restart: unless-stopped
  syncthing:
    image: ghcr.io/linuxserver/syncthing
    container_name: syncthing
    hostname: syncthing #optional
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
    volumes:
      - ./config/syncthing:/config
      - /home/xywgo/downloads:/data
    ports:
      - 8384:8384
      - 22000:22000/tcp
      - 22000:22000/udp
      - 21027:21027/udp
    restart: unless-stopped